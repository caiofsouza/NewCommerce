"use strict";var app=angular.module("newCommerce",["ngRoute"]);app.config(["$locationProvider","$routeProvider",function(a,b){b.when("/",{templateUrl:"public/views/login.html",controller:"LoginCtrl"}).when("/products",{templateUrl:"public/views/products.html",controller:"ProductsCtrl"}).when("/product/:product_id",{templateUrl:"public/views/product.html",controller:"ProductCtrl"}).otherwise({redirectTo:"/"})}]),app.controller("HomeCtrl",["$scope",function(a){a.message="teste"}]),app.controller("LoginCtrl",["$scope","$location","Auth",function(a,b,c){a.user_email="",a.user_password="",a.auth=new c,a.user_login=function(){a.auth.checkUser({}),a.messageError="",""!=a.user_email&&""!=a.user_password?a.email_error=a.pass_error=!1:""==a.user_email?(a.email_error=!0,a.messageError="Preencha o campo de email"):(a.pass_error=!0,a.messageError="Preencha o campo de senha"),b.path("/product/123456")}}]),app.controller("MenuCtrl",["$scope",function(a){a.user={name:"Caio Fernandes",email:"caio_fsouza@hotmail.com",active:!0}}]),app.controller("ProductCtrl",["$scope","$routeParams",function(a,b){a.product_id=b.product_id,a.message="Product page"}]),app.factory("Auth",["$http",function(a){function b(){this.id="12345"}return b.prototype={checkUser:function(b){a({method:"GET",data:{email:b.email,password:b.pass},url:"http://localhost:3000/"}).success(function(a){console.log(a),app.constant("AuthTOKEN",a.token)}).error(function(a){console.log(a)})}},b}]);